<h2>Crear Usuario</h2>
<form (ngSubmit)="onSubmit()" #userForm="ngForm" class="user-form">

  <div class="form-group">
    <input placeholder="Name" name="name" [(ngModel)]="user.name" class="form-control" required #name="ngModel">
    @if (name.invalid && (name.dirty || name.touched)) {
    @if(name.errors!['required']){
    <div class="text-danger">
      Nombre es requerido
    </div>
    }
    }
  </div>

  <div class="form-group">
    <input placeholder="Lastname" name="lastname" [(ngModel)]="user.lastName" class="form-control" required
      #lastname="ngModel">
    @if (lastname.invalid && (lastname.dirty || lastname.touched)) {
    @if(lastname.errors!['required']){
    <div class="text-danger">
      El lastname es requerido
    </div>
    }
    }
  </div>

  <div class="form-group">
    <input placeholder="Email" name="email" [(ngModel)]="user.email" class="form-control" type="email" required email
      #email="ngModel">
    @if (email.invalid && (email.dirty || email.touched)) {
    @if(email.errors!['required']){
    <div class="text-danger">
      El email es requerido
    </div>
    }
    @if(email.errors!['email']){
    <div class="text-danger">
      El email no tiene formato correcto!
    </div>
    }
    }
  </div>

  <div class="form-group">
    <input placeholder="Username" name="username" [(ngModel)]="user.userName" class="form-control" required
      minlength="8" #username="ngModel">
    @if (username.invalid && (username.dirty || username.touched)) {
    @if(username.errors!['required']){
    <div class="text-danger">
      El username es requerido
    </div>
    }
    @if(username.errors!['minlength']){
    <div class="text-danger">
      Username debe de tener al menos 8 caracteres!
    </div>
    }
    }
  </div>

  <div class="form-group">
    <input placeholder="Password" name="password" type="password" [(ngModel)]="user.password" class="form-control"
      required minlength="6" #password="ngModel">
    @if (password.invalid && (password.dirty || password.touched)) {
    @if(password.errors!['required']){
    <div class="text-danger">
      El password es requerido
    </div>
    }
    @if(password.errors!['minlength']){
    <div class="text-danger">
      Password debe de tener al menos 6 caracteres!
    </div>
    }
    }
  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">
      {{(user.id > 0)? 'Update': 'Create'}}
    </button>
  </div>

</form>